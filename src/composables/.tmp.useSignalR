  // async function sendUnitAction(action: UnitAction) {
  //   if (!connection.value) {
  //     throw new Error('Not connected to server')
  //   }

  //   try {
  //     await connection.value.invoke(
  //       'SendUnitAction',
  //       gameStore.gameToken,
  //       gameStore.playerToken,
  //       action
  //     )
      
  //     gameStore.addLog(`âž¡ï¸ Ð”ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾: ${action.actionType}`, 'info')
  //   } catch (error) {
  //     console.error('Send action error:', error)
  //     gameStore.addLog(`âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ: ${error}`, 'error')
  //     throw error
  //   }
  // }

  // async function endTurn() {
  //   if (!connection.value) return

  //   try {
  //     await connection.value.invoke('EndTurn', gameStore.gameToken, gameStore.playerToken)
  //     gameStore.addLog('â¹ï¸ Ð¥Ð¾Ð´ Ð·Ð°Ð²ÐµÑ€ÑˆÑ‘Ð½', 'success')
  //   } catch (error) {
  //     console.error('End turn error:', error)
  //     gameStore.addLog(`âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ñ…Ð¾Ð´Ð°: ${error}`, 'error')
  //   }
  // }

    // function handleEffects(effects: GameEffect[]) {
  //   effects.forEach(effect => {
  //     switch (effect.effectType) {
  //       case 'unit_move':
  //         handleUnitMove(effect.parameters)
  //         break
  //       case 'shoot':
  //         handleShoot(effect.parameters)
  //         break
  //       case 'damage':
  //         handleDamage(effect.parameters)
  //         break
  //       default:
  //         console.log('Unknown effect:', effect.effectType)
  //     }
  //   })
  // }

    // function handleUnitMove(params: any) {
  //   gameStore.updateUnit(params.unitId, {
  //     x: params.toX,
  //     y: params.toY
  //   })
  //   gameStore.addLog(`â¬†ï¸ Ð®Ð½Ð¸Ñ‚ #${params.unitId} Ð¿ÐµÑ€ÐµÐ¼ÐµÑÑ‚Ð¸Ð»ÑÑ`, 'info')
  // }

  // function handleShoot(params: any) {
  //   gameStore.addLog(`ðŸ’¥ Ð’Ñ‹ÑÑ‚Ñ€ÐµÐ»! Ð£Ñ€Ð¾Ð½: ${params.damage}`, 'warning')
  // }

  // function handleDamage(params: any) {
  //   const unit = gameStore.units.find(u => u.unitId === params.targetUnitId)
  //   if (unit) {
  //     gameStore.updateUnit(params.targetUnitId, {
  //       health: Math.max(0, unit.health - params.damage)
  //     })
  //   }
  // }